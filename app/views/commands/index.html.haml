%h3 Commands

.commands-block
  %table.table{style: "width: auto"}
    %thead
      %tr
        %th{colspan: 2} EC2
    %tbody
      %tr
        %td Start Instances
        %td= link_to "perform", { action: :perform, class: :EC2, method: :start_instances }, class: "perform" unless @disable_commands
      %tr
        %td Stop Instances
        %td= link_to "perform", { action: :perform, class: :EC2, method: :stop_instances }, class: "perform" unless @disable_commands
      %tr
        %td
          Terminate Instances older than
          = aws_setting :ec2_instance_age
          days
        %td= link_to "perform", { action: :perform, class: :EC2, method: :clean_instances }, class: "perform" unless @disable_commands
      %tr
        %td Clean Security Groups
        %td= link_to "perform", { action: :perform, class: :EC2, method: :clean_security_groups }, class: "perform" unless @disable_commands
      %tr
        %td Release Elastic IP not associated with an Instance
        %td= link_to "perform", { action: :perform, class: :EC2, method: :release_elastic_ip }, class: "perform" unless @disable_commands

    %thead
      %tr
        %th{colspan: 2} IAM
    %tbody
      %tr
        %td Delete Users that do not have MFA enabled
        %td= link_to "perform", { action: :perform, class: :IAM, method: :clean_users }, class: "perform" unless @disable_commands

    %thead
      %tr
        %th{colspan: 2} OpsWorks
    %tbody
      %tr
        %td
          Delete Stacks older than
          = aws_setting :opsworks_stack_age
          days
        %td= link_to "perform", { action: :perform, class: :OpsWorks, method: :clean_stacks }, class: "perform" unless @disable_commands
      %tr
        %td
          Delete Layers older than
          = aws_setting :opsworks_layer_age
          days
        %td= link_to "perform", { action: :perform, class: :OpsWorks, method: :clean_layers }, class: "perform" unless @disable_commands
      %tr
        %td
          Delete Instances older than
          = aws_setting :opsworks_instance_age
          days
        %td= link_to "perform", { action: :perform, class: :OpsWorks, method: :clean_instances }, class: "perform" unless @disable_commands
      %tr
        %td
          Delete Apps older than
          = aws_setting :opsworks_app_age
          days
        %td= link_to "perform", { action: :perform, class: :OpsWorks, method: :clean_apps }, class: "perform" unless @disable_commands

    %thead
      %tr
        %th{colspan: 2} CloudFormation
    %tbody
      %tr
        %td
          Delete Stacks older than
          = aws_setting :cloudformation_stack_age
          days
        %td= link_to "perform", { action: :perform, class: :CloudFormation, method: :clean_stacks }, class: "perform" unless @disable_commands
